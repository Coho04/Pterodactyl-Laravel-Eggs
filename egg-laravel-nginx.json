{
  "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
  "meta": {
    "version": "PTDL_v2",
    "update_url": null
  },
  "exported_at": "2025-02-21T22:47:26+01:00",
  "name": "Laravel (Nginx)",
  "author": "cohohohn04@gmail.com",
  "description": "Laravel application server with Nginx, PHP-FPM, GitHub deployment, and package installation.",
  "features": null,
  "docker_images": {
    "ghcr.io/coho04/pterodactyl-docker-images:laravel_11_php_82_nginx": "ghcr.io/coho04/pterodactyl-docker-images:laravel_11_php_82_nginx",
    "ghcr.io/coho04/pterodactyl-docker-images:laravel_11_php_83_nginx": "ghcr.io/coho04/pterodactyl-docker-images:laravel_11_php_83_nginx"
  },
  "file_denylist": [],
  "startup": "cd /home/container || exit 1; if [ ! -d .git ]; then echo \"[SETUP] Cloning repository...\"; git clone -b \"$BRANCH\" \"https://$USERNAME:$ACCESS_TOKEN@${GITHUB_REPO_URL#https://}\" /home/container; fi; if [ \"$UPDATE_ON_START\" = \"1\" ]; then echo \"[UPDATE] Updating repository...\"; git fetch --all && git reset --hard origin/\"$BRANCH\"; fi; if [ -f composer.json ]; then echo \"[SETUP] Installing Composer packages\"; composer install --no-dev --optimize-autoloader; fi; if [ -f package.json ]; then echo \"[SETUP] Installing NPM packages\"; npm install; if [ -f vite.config.js ]; then echo \"[SETUP] Building Assets with Vite\"; npm run build; fi; fi; php artisan migrate --no-interaction --force; supervisord -c /etc/supervisord.conf;",
  "config": {
    "files": "{}",
    "startup": "{\r\n    \"done\": \"ready to handle connections\"\r\n}",
    "logs": "{\r\n    \"location\": \"storage/logs/laravel.log\"\r\n}",
    "stop": "pkill supervisord"
  },
  "scripts": {
    "installation": {
      "script": null,
      "container": "alpine:3.4",
      "entrypoint": "ash"
    }
  },
  "variables": [
    {
      "name": "GitHub Repository URL",
      "description": "The URL of your GitHub repository.",
      "env_variable": "GITHUB_REPO_URL",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string",
      "field_type": "text"
    },
    {
      "name": "Git Access Token",
      "description": "Your GitHub token for accessing the repository.",
      "env_variable": "ACCESS_TOKEN",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string",
      "field_type": "text"
    },
    {
      "name": "Git Username",
      "description": "Username for accessing the GitHub repository.",
      "env_variable": "USERNAME",
      "default_value": "",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string",
      "field_type": "text"
    },
    {
      "name": "Git Branch",
      "description": "The branch of the repository to clone. Default is 'main'.",
      "env_variable": "BRANCH",
      "default_value": "main",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|string",
      "field_type": "text"
    },
    {
      "name": "Update on Start",
      "description": "If enabled, the repository will be updated on every start.",
      "env_variable": "UPDATE_ON_START",
      "default_value": "1",
      "user_viewable": true,
      "user_editable": true,
      "rules": "required|boolean",
      "field_type": "boolean"
    }
  ]
}
